"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[123],{1123:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(4165),r=n(5861),i=n(9439),a=n(2791),c=n(9434),o=n(4942),d=n(1413),l=n(2023),u=n(2675),x=n(184),m=function(e){var t=e.trustedAuthContextData,n=(0,a.useState)({}),m=(0,i.Z)(n,2),v=m[0],f=m[1],h=(0,a.useState)({}),p=(0,i.Z)(h,2),y=p[0],g=p[1],j=(0,c.I0)(),b=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!0))})),e.next=3,j((0,l.sQ)(t));case 3:return e.next=5,j((0,l.Ik)());case 5:f((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!1))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!0))})),e.next=3,j((0,l.pK)(t));case 3:return e.next=5,j((0,l.Ik)());case 5:return e.next=7,j((0,l.hz)());case 7:g((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!1))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=null===t||void 0===t?void 0:t.map((function(e){return{_id:e._id,device:e.device,deviceType:e.deviceType,ipAddress:e.ip,location:"".concat(e.city,", ").concat(e.country),browser:e.browser,operatingSystem:e.os,time:e.time}}));return(0,x.jsxs)("div",{className:"max-w-3xl mx-auto mt-12 p-5",children:[(0,x.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Trusted Devices and Locations"}),(0,x.jsx)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:(0,x.jsx)("div",{className:"flow-root",children:(0,x.jsxs)("ul",{className:"-my-5 divide-y divide-gray-200",children:[0===Z.length&&(0,x.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Not available"}),Z.map((function(e){return(0,x.jsx)("li",{className:"py-5",children:(0,x.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,x.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.device," ",e.deviceType," - ",e.time]}),(0,x.jsxs)("span",{className:"ml-1 text-sm text-gray-500",children:["(",e.ipAddress,")"]})]}),(0,x.jsxs)("div",{className:"mt-1 flex items-center space-x-4",children:[(0,x.jsx)("span",{className:"text-sm text-gray-500",children:e.location}),(0,x.jsx)("span",{className:"text-sm text-gray-500",children:"\u2022"}),(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:[e.browser," on ",e.operatingSystem]})]})]}),(0,x.jsxs)("div",{className:"flex-shrink-0",children:[(0,x.jsx)("button",{disabled:v[e._id],onClick:function(){return b(e._id)},type:"button",className:"mx-3 inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:v[e._id]?(0,x.jsx)(u.Z,{loadingText:"Removing..."}):(0,x.jsx)("span",{children:"Remove"})}),(0,x.jsx)("button",{disabled:y[e._id],onClick:function(){return N(e._id)},type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-gray-400 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",children:y[e._id]?(0,x.jsx)(u.Z,{loadingText:"Blocking..."}):(0,x.jsx)("span",{children:"Block"})})]})]})},e._id)}))]})})})]})},v=function(e){var t=e.contextAuthData,n={"First Added":null===t||void 0===t?void 0:t.firstAdded,"IP Address":null===t||void 0===t?void 0:t.ip,Country:null===t||void 0===t?void 0:t.country,City:null===t||void 0===t?void 0:t.city,Browser:null===t||void 0===t?void 0:t.browser,Platform:null===t||void 0===t?void 0:t.platform,OS:null===t||void 0===t?void 0:t.os,Device:null===t||void 0===t?void 0:t.device,"Device Type":null===t||void 0===t?void 0:t.deviceType};return(0,x.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,x.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,x.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Primary Devices and Locations"}),(0,x.jsx)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:(0,x.jsx)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:Object.entries(n).map((function(e){var t=(0,i.Z)(e,2),n=t[0],s=t[1];return(0,x.jsxs)("div",{className:"sm:col-span-1",children:[(0,x.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:n}),(0,x.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:s})]},n)}))})})]})})},f=function(e){var t=e.blockedContextAuthData,n=(0,a.useState)({}),m=(0,i.Z)(n,2),v=m[0],f=m[1],h=(0,c.I0)(),p=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!0))})),e.next=3,h((0,l.PH)(t));case 3:return e.next=5,h((0,l.hz)());case 5:return e.next=7,h((0,l.Ik)());case 7:f((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,o.Z)({},t,!1))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=null===t||void 0===t?void 0:t.map((function(e){return{_id:e._id,device:e.device,deviceType:e.deviceType,ipAddress:e.ip,location:"".concat(e.city,", ").concat(e.country),browser:e.browser,operatingSystem:e.os,time:e.time}}));return(0,x.jsxs)("div",{className:"max-w-3xl mx-auto mt-12 p-5",children:[(0,x.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Blocked Devices and Locations"}),(0,x.jsx)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:(0,x.jsx)("div",{className:"flow-root",children:(0,x.jsxs)("ul",{className:"-my-5 divide-y divide-gray-200",children:[0===y.length&&(0,x.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Not available"}),y.map((function(e){return(0,x.jsx)("li",{className:"py-5",children:(0,x.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,x.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.device," ",e.deviceType," - ",e.time]}),(0,x.jsxs)("span",{className:"ml-1 text-sm text-gray-500",children:["(",e.ipAddress,")"]})]}),(0,x.jsxs)("div",{className:"mt-1 flex items-center space-x-4",children:[(0,x.jsx)("span",{className:"text-sm text-gray-500",children:e.location}),(0,x.jsx)("span",{className:"text-sm text-gray-500",children:"\u2022"}),(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:[e.browser," on ",e.operatingSystem]})]})]}),(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)("button",{disabled:v[e._id],onClick:function(){return p(e._id)},type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white ".concat(v[e._id]?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-400"),children:v[e._id]?(0,x.jsx)(u.Z,{loadingText:"unblocking..."}):"Unblock"})})]})},e._id)}))]})})})]})},h=n(1585),p=function(){var e=(0,c.I0)(),t=(0,a.useState)(!1),n=(0,i.Z)(t,2),o=n[0],d=n[1];(0,a.useEffect)((function(){var t=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,l.om)());case 2:return t.next=4,e((0,l.BO)());case 4:return t.next=6,e((0,l.Ik)());case 6:return t.next=8,e((0,l.hz)());case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){return d(!0)}))}),[e,o]);var u=(0,c.v9)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.userPreferences})),p=(0,c.v9)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.contextAuthData})),y=(0,c.v9)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.trustedAuthContextData})),g=(0,c.v9)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.blockedAuthContextData}));return o?u&&p?(0,x.jsxs)("div",{className:"main-section border bg-white",children:[(0,x.jsx)(v,{contextAuthData:p}),(0,x.jsx)(m,{trustedAuthContextData:y}),(0,x.jsx)(f,{blockedContextAuthData:g})]}):(0,x.jsxs)("div",{className:"bg-white border p-5 text-gray-700 text-center main-section",children:[(0,x.jsx)("p",{className:"text-lg font-semibold mb-4",children:"Context-based authentication is currently disabled for your account."}),(0,x.jsx)("p",{className:"text-sm",children:"By enabling context-based authentication, you will gain control over your devices, their locations, and manage trusted and blocked devices."})]}):(0,x.jsx)("div",{className:"col-span-2 flex items-center justify-center h-screen",children:(0,x.jsx)(h.Z,{})})}}}]);
//# sourceMappingURL=123.639eba66.chunk.js.map