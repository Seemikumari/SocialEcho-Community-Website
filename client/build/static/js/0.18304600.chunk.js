"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[0],{1e3:function(e,a,t){t.r(a);var s=t(9439),n=t(2791),i=t(7689),l=t(1243),c=t(2675),r=t(184);a.default=function(){var e=(0,n.useState)(!1),a=(0,s.Z)(e,2),t=a[0],d=a[1],o=(0,i.s0)(),u=(0,i.TH)(),h=new URLSearchParams(u.search),m=h.get("code"),f=h.get("email"),x=u.state?u.state:f,b=(0,n.useState)(m||""),g=(0,s.Z)(b,2),p=g[0],v=g[1],y=(0,n.useState)(""),j=(0,s.Z)(y,2),N=j[0],w=j[1],k=(0,n.useCallback)((function(){d(!0);var e="".concat("http://127.0.0.1:4000","/auth/verify?code=").concat(p,"&email=").concat(x);l.Z.get(e).then((function(e){200===e.status&&(o("/email-verified"),v(""),w(""),d(!1))})).catch((function(e){w(e.response.data.message||"Invalid code, please try again."),d(!1)}))}),[p,x,o,d,w]);return(0,n.useEffect)((function(){m&&f&&k()}),[m,f,k]),"Email is already verified"===N&&o("/signin"),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"rounded-md bg-white p-6 shadow-md",children:[(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email address"}),!m&&!f&&(0,r.jsxs)("p",{className:"mb-4",children:["A verification code was sent to your email address. Please either",(0,r.jsx)("span",{className:"font-bold",children:" follow "}),"the link in the email or",(0,r.jsx)("span",{className:"font-bold",children:" enter "}),"the code below."]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Verification code",className:"w-full rounded-lg border-2 border-gray-200 p-2",value:p,onChange:function(e){v(e.target.value)}})}),N&&(0,r.jsx)("div",{className:"mb-4 text-sm text-red-500",children:N}),(0,r.jsx)("button",{disabled:t,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",onClick:k,children:t?(0,r.jsx)(c.Z,{loadingText:"Verifying..."}):"Verify"}),(0,r.jsx)("button",{className:"ml-4 rounded-lg bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",onClick:function(){o("/signup")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=0.18304600.chunk.js.map